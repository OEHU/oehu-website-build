{"version":3,"sources":["webpack:///./src/assets/images/oehu_setup_finish.svg","webpack:///./src/views/Setup.vue?9891","webpack:///./src/views/Setup.vue?deb9","webpack:///src/views/Setup.vue","webpack:///./src/views/Setup.vue?62b5","webpack:///./src/views/Setup.vue"],"names":["module","exports","__webpack_require__","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Setup_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Setup_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","ref","shape","color","scopedSlots","_u","key","fn","props","tab","transition","index","error","directives","name","rawName","value","expression","nativeOn","click","$event","prevTab","_v","isLastStep","nextTab","_e","before-change","validateLocationTab","zoom","map","center","options","zoomControl","touchZoom","scrollWheelZoom","doubleClickZoom","boxZoom","on","update:center","centerUpdate","update:zoom","zoomUpdate","markerClick","url","attribution","icon","LIcon","lat-lng","marker","position","radius","model","accuracy","schema","locationAccuracy","formOptions","hidden","selectLocation","validateHouseholdType","selectHouseholdType","_s","validateCredentialsTab","errorMessage","credentialsTab","validateBackupTab","backupTab","alt","staticRenderFns","Setupvue_type_script_lang_js_","components","LMap","vue2_leaflet_min","LTileLayer","LMarker","LCircle","data","deviceId","showNext","lat","lng","currentZoom","currentCenter","leaflet_src_default","a","iconUrl","iconRetinaUrl","iconSize","long","phrase","fields","type","inputType","label","required","validator","vfg_default","validators","string","email","validationErrorClass","validationSuccessClass","validateAfterChanged","values","selectOptions","hideNoneSelectedText","min","number","styleClasses","watch","model.locationAccuracy","handler","newVal","deep","newError","$refs","wizard","methods","generateNewPhrase","validate","registerNewDevice","registerAccount","getConfigurated","e","latlng","self","axios","get","then","response","configurated","$cookies","set","startRunning","setTimeout","document","location","catch","console","log","householdType","occupants","deviceID","post","password","message","views_Setupvue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-39ffbd12.7dd7b6f4.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/oehu_setup_finish.09debccd.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../assets/images/oehu-logo-small.svg\")}}),_c('form-wizard',{ref:\"wizard\",attrs:{\"shape\":\"tab\",\"color\":\"#26292d\"},scopedSlots:_vm._u([{key:\"step\",fn:function(props){return _c('wizard-step',{attrs:{\"tab\":props.tab,\"transition\":props.transition,\"index\":props.index}})}},{key:\"footer\",fn:function(props){return [(_vm.error == '')?_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showNext),expression:\"showNext\"}]},[_c('div',{staticClass:\"wizard-footer-left\"},[_c('a',{nativeOn:{\"click\":function($event){props.prevTab()}}},[_vm._v(\"Prev step\")])]),_c('div',{staticClass:\"wizard-footer-right\"},[_c('wizard-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!props.isLastStep),expression:\"!props.isLastStep\"}],staticClass:\"wizard-footer-right\",nativeOn:{\"click\":function($event){props.nextTab()}}},[_vm._v(\"Next step\")])],1)])]):_vm._e()]}}])},[_c('tab-content',{attrs:{\"before-change\":_vm.validateLocationTab}},[_c('div',{staticClass:\"tab\"},[_c('h1',[_vm._v(\"Welcome to the OEHU setup\")]),_c('h2',[_vm._v(\"Step 1: Enter your location\")]),_c('l-map',{staticClass:\"oehu-map\",attrs:{\"zoom\":_vm.map.zoom,\"center\":_vm.map.center,\"options\":{zoomControl: true, touchZoom: true, scrollWheelZoom: true, doubleClickZoom: true, boxZoom: true}},on:{\"update:center\":_vm.centerUpdate,\"update:zoom\":_vm.zoomUpdate,\"click\":_vm.markerClick}},[_c('l-tile-layer',{attrs:{\"url\":_vm.map.url,\"attribution\":_vm.map.attribution}}),_c('l-marker',{key:\"mylocation\",attrs:{\"icon\":_vm.LIcon,\"lat-lng\":_vm.map.marker.position}}),_c('LCircle',{key:\"mylocation2\",attrs:{\"radius\":_vm.model.accuracy,\"icon\":_vm.LIcon,\"lat-lng\":_vm.map.marker.position}})],1),_c('p',{staticClass:\"permisson_text\"},[_c('span',[_vm._v(\"\\n                         • Pin your location on the map\"),_c('br'),_vm._v(\"\\n                         • Select the accuracy for displaying and saving your data\\n                    \")])]),_c('vue-form-generator',{ref:\"locationAccuracy\",attrs:{\"model\":_vm.model,\"schema\":_vm.locationAccuracy,\"options\":_vm.formOptions}}),_c('div',{attrs:{\"hidden\":\"\"}},[_c('vue-form-generator',{ref:\"selectLocation\",attrs:{\"model\":_vm.model,\"schema\":_vm.selectLocation,\"options\":_vm.formOptions}})],1)],1)]),_c('tab-content',{attrs:{\"before-change\":_vm.validateHouseholdType}},[(_vm.error == '')?_c('div',{staticClass:\"tab\"},[_c('h1',[_vm._v(\"Thank you! Just a few more steps\")]),_c('h2',[_vm._v(\"Step 2: Enter your Building data\")]),_c('vue-form-generator',{ref:\"selectHouseholdType\",attrs:{\"model\":_vm.model,\"schema\":_vm.selectHouseholdType,\"options\":_vm.formOptions}})],1):_c('div',[_vm._v(\"\\n                \"+_vm._s(this.error)+\"\\n            \")])]),_c('tab-content',{attrs:{\"before-change\":_vm.validateCredentialsTab}},[(_vm.error == '')?_c('div',{staticClass:\"tab\"},[_c('h1',[_vm._v(\"Halfway there!\")]),_c('h2',[_vm._v(\"Step 3: Enter your credentials\")]),_c('p',{staticClass:\"errorMessage\"},[_vm._v(_vm._s(this.errorMessage))]),_c('vue-form-generator',{ref:\"credentialsTab\",attrs:{\"model\":_vm.model,\"schema\":_vm.credentialsTab,\"options\":_vm.formOptions}})],1):_c('div',[_vm._v(\"\\n                \"+_vm._s(this.error)+\"\\n            \")])]),_c('tab-content',{attrs:{\"before-change\":_vm.validateBackupTab}},[(_vm.error == '')?_c('div',{staticClass:\"tab\"},[_c('h1',[_vm._v(\"OEHU! Almost there!\")]),_c('h2',[_vm._v(\"Step 4: Save your credentials\")]),_c('vue-form-generator',{ref:\"backupTab\",attrs:{\"model\":_vm.model,\"schema\":_vm.backupTab,\"options\":_vm.formOptions}})],1):_c('div',[_vm._v(\"\\n                \"+_vm._s(this.error)+\"\\n            \")])]),_c('tab-content',[(_vm.error == '')?_c('div',{staticClass:\"tab\"},[_c('h2',[_vm._v(\"Step 5: Well done we're processing your request\")]),_c('p',[_vm._v(\"Please do not refresh the page. Once its done you will get redirected to your dashboard\")]),_c('img',{staticClass:\"setup_finish_svg\",attrs:{\"src\":require(\"../assets/images/oehu_setup_finish.svg\"),\"alt\":\"\"}}),_c('div',{staticClass:\"loading\"},[_c('div'),_c('div'),_c('div'),_c('div')])]):_c('div',[_vm._v(\"\\n                \"+_vm._s(this.error)+\"\\n            \")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"container\">\n        <img class=\"logo\" src=\"../assets/images/oehu-logo-small.svg\" />\n        <form-wizard shape=\"tab\" color=\"#26292d\" ref=\"wizard\">\n            <wizard-step \n                slot-scope=\"props\"\n                slot=\"step\"\n                :tab=\"props.tab\"\n                :transition=\"props.transition\"\n                :index=\"props.index\">\n            </wizard-step>\n            \n            <tab-content :before-change=\"validateLocationTab\">\n                <div class=\"tab\">\n                    <h1>Welcome to the OEHU setup</h1>\n                    <h2>Step 1: Enter your location</h2>\n\n                    <l-map\n                            class=\"oehu-map\"\n                            :zoom=\"map.zoom\"\n                            :center=\"map.center\"\n                            :options=\"{zoomControl: true, touchZoom: true, scrollWheelZoom: true, doubleClickZoom: true, boxZoom: true}\"\n                            @update:center=\"centerUpdate\"\n                            @update:zoom=\"zoomUpdate\"\n                            @click=\"markerClick\">\n                        <l-tile-layer :url=\"map.url\" :attribution=\"map.attribution\"/>\n                        <l-marker\n                                key=\"mylocation\"\n                                :icon=\"LIcon\"\n                                :lat-lng=\"map.marker.position\">\n                        </l-marker>\n                        <LCircle\n                                key=\"mylocation2\"\n                                :radius=\"model.accuracy\"\n                                :icon=\"LIcon\"\n                                :lat-lng=\"map.marker.position\">\n                        </LCircle>\n                    </l-map>\n                    <p class=\"permisson_text\">                  \n                        <span>\n                             • Pin your location on the map<br/>\n                             • Select the accuracy for displaying and saving your data\n                        </span>\n                    </p>\n                    \n                    <vue-form-generator :model=\"model\" :schema=\"locationAccuracy\" :options=\"formOptions\"\n                                          ref=\"locationAccuracy\"></vue-form-generator>\n\n                    <div hidden>\n                      <vue-form-generator :model=\"model\" :schema=\"selectLocation\" :options=\"formOptions\"\n                                        ref=\"selectLocation\"></vue-form-generator>\n                    </div>\n                </div>\n            </tab-content>\n\n            <tab-content  :before-change=\"validateHouseholdType\">\n                <div v-if=\"error == ''\" class=\"tab\">\n                    <h1>Thank you! Just a few more steps</h1>\n                    <h2>Step 2: Enter your Building data</h2>\n                    <vue-form-generator :model=\"model\" :schema=\"selectHouseholdType\" :options=\"formOptions\"\n                                        ref=\"selectHouseholdType\"></vue-form-generator>\n                </div>\n                <div v-else>\n                    {{this.error}}\n                </div>\n            </tab-content>\n\n            <tab-content  :before-change=\"validateCredentialsTab\">\n                <div v-if=\"error == ''\" class=\"tab\">\n                    <h1>Halfway there!</h1>\n                    <h2>Step 3: Enter your credentials</h2>\n                    <p class=\"errorMessage\">{{this.errorMessage}}</p>\n                    <vue-form-generator :model=\"model\" :schema=\"credentialsTab\" :options=\"formOptions\"\n                                        ref=\"credentialsTab\"></vue-form-generator>\n                </div>\n                <div v-else>\n                    {{this.error}}\n                </div>\n            </tab-content>\n\n            <tab-content  :before-change=\"validateBackupTab\">\n                <div v-if=\"error == ''\" class=\"tab\">\n                    <h1>OEHU! Almost there!</h1>\n                    <h2>Step 4: Save your credentials</h2>\n                    <vue-form-generator :model=\"model\" :schema=\"backupTab\" :options=\"formOptions\"\n                                        ref=\"backupTab\"></vue-form-generator>\n                </div>\n                <div v-else>\n                    {{this.error}}\n                </div>\n            </tab-content>\n\n            <tab-content>\n                <div v-if=\"error == ''\" class=\"tab\">\n                    <h2>Step 5: Well done we're processing your request</h2>\n                    <p>Please do not refresh the page. Once its done you will get redirected to your dashboard</p>\n                    <img class=\"setup_finish_svg\" src=\"../assets/images/oehu_setup_finish.svg\" alt=\"\" />\n                    <div class=\"loading\"><div></div><div></div><div></div><div></div></div>\n                </div>\n                <div v-else>\n                    {{this.error}}\n                </div>\n            </tab-content>\n\n        <template slot=\"footer\" slot-scope=\"props\">\n            <div v-if=\"error == ''\"> \n                <div v-show=\"showNext\">\n                    <div class=\"wizard-footer-left\">\n                    <a @click.native=\"props.prevTab()\">Prev step</a>\n                    </div>\n                    <div class=\"wizard-footer-right\">\n                        <wizard-button v-show=\"!props.isLastStep\" @click.native=\"props.nextTab()\" class=\"wizard-footer-right\">Next step</wizard-button>\n                    </div>\n                </div>\n            </div>              \n       </template>            \n        </form-wizard>\n    </div>\n</template>\n\n<script>\nimport VueFormGenerator from \"vue-form-generator\";\nimport \"vue-form-generator/dist/vfg-core.css\";\nimport { LMap, LTileLayer, LMarker, LCircle } from \"vue2-leaflet\";\nimport L from \"leaflet\";\n\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LCircle\n  },\n  data: function() {\n    return {\n      deviceId: 0,\n      showNext: false,\n      error: \"\",\n      errorMessage: \"\",\n      map: {\n        marker: {\n          position: {\n            lat: 0,\n            lng: 0\n          },\n          radius: 10000\n        },\n        zoom: 10,\n        currentZoom: 10,\n        center: { lat: 52.0182305, lng: 4.6910549 },\n        currentCenter: { lat: 52.0182305, lng: 4.6910549 },\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        // url: \"https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.png\",\n        attribution:\n          '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n      },\n      LIcon: L.icon({\n        iconUrl: \"/marker-icon.png\",\n        iconRetinaUrl: \"/marker-icon-2x.png\",\n        iconSize: [25, 25]\n      }),\n      model: {\n        lat: \"\",\n        long: \"\",\n        locationAccuracy: \"town/city\",\n        accuracy: 3000,\n        phrase: \"\",\n        deviceId: 28\n      },\n      backupTab: {\n        fields: [\n          {\n            type: \"input\",\n            inputType: \"text\",\n            label: \"• This phrase is generated by your PI\",\n            required: true,\n            model: \"phrase\",\n            validator: VueFormGenerator.validators.string\n          },\n          {\n            type: \"input\",\n            inputType: \"text\",\n            label: \"E-mail\",\n            model: \"email\",\n            required: true,\n            validator: VueFormGenerator.validators.email\n          },\n          {\n            type: \"input\",\n            inputType: \"password\",\n            label: \"Password\",\n            model: \"password\",\n            required: true,\n            validator: VueFormGenerator.validators.string\n          }\n        ]\n      },\n      formOptions: {\n        validationErrorClass: \"has-error\",\n        validationSuccessClass: \"has-success\",\n        validateAfterChanged: true\n      },\n      selectHouseholdType: {\n        fields: [\n          {\n            type: \"select\",\n            label: \"• Select your household type:\",\n            model: \"householdType\",\n            required: true,\n            validator: VueFormGenerator.validators.string,\n            values: [\"House\", \"Office\", \"Storage\", \"Factory\"],\n            selectOptions: {\n              hideNoneSelectedText: true\n            }\n          },\n          {\n            type: \"select\",\n            label: \"• Select the number of occupants:\",\n            model: \"occupants\",\n            validator: VueFormGenerator.validators.string,\n            required: true,\n            values: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n            selectOptions: {\n              hideNoneSelectedText: true\n            }\n          }\n        ]\n      },\n      selectLocation: {\n        fields: [\n          {\n            type: \"input\",\n            inputType: \"hidden\",\n            // label: \"Location Accuracy\",\n            model: \"accuracy\",\n            min: 100,\n            required: true,\n            validator: VueFormGenerator.validators.number,\n            styleClasses: \"col-xs-6\"\n          },\n          {\n            type: \"input\",\n            inputType: \"hidden\",\n            // label: \"Latitude\",\n            model: \"lat\",\n            required: true,\n            validator: VueFormGenerator.validators.number,\n            styleClasses: \"col-xs-6\"\n          },\n          {\n            type: \"input\",\n            inputType: \"hidden\",\n            // label: \"Longitude\",\n            model: \"long\",\n            required: true,\n            validator: VueFormGenerator.validators.number,\n            styleClasses: \"col-xs-6\"\n          }\n        ]\n      },\n      locationAccuracy: {\n        fields: [\n          {\n            type: \"radios\",\n            model: \"locationAccuracy\",\n            values: [\"street\", \"town/city\", \"state\", \"hidden\"],\n            required: true,\n            // validator: VueFormGenerator.validators.number,\n            styleClasses: \"locationAccuracyFormGroup\"\n          }\n        ]\n      },\n      credentialsTab: {\n        fields: [\n          {\n            type: \"input\",\n            inputType: \"text\",\n            label: \"• Enter your e-mail\",\n            model: \"email\",\n            required: true,\n            validator: VueFormGenerator.validators.email\n          },\n          {\n            type: \"input\",\n            inputType: \"password\",\n            label: \"• Enter your password\",\n            model: \"password\",\n            required: true,\n            validator: VueFormGenerator.validators.string\n          }\n        ]\n      }\n    };\n  },\n  watch: {\n    \"model.locationAccuracy\": {\n      handler: function(newVal) {\n        if (newVal == \"street\") {\n          this.model.accuracy = 200;\n        } else if (newVal == \"town/city\") {\n          this.model.accuracy = 3000;\n        } else if (newVal == \"state\") {\n          this.model.accuracy = 28000;\n        } else {\n          this.model.accuracy = 100000;\n          this.model.lat = 52.31877224455515;\n          this.model.long = 2.973580237523761;\n          this.map.marker.position.lat = this.model.lat;\n          this.map.marker.position.lng = this.model.long;\n          this.model.lat = this.map.marker.position.lat;\n          this.model.long = this.map.marker.position.lng;\n        }\n      },\n      deep: true\n    },\n    error: function(newError) {\n      if (newError == \"Account already exists\") {\n        this.$refs.wizard.prevTab();\n        this.errorMessage = this.error;\n      }\n    }\n  },\n  methods: {\n    validateLocationTab: function() {\n      this.generateNewPhrase();\n      return this.$refs.selectLocation.validate();\n    },\n    validateHouseholdType: function() {\n      this.registerNewDevice();\n      return this.$refs.selectHouseholdType.validate();\n    },\n    validateCredentialsTab: function() {\n      this.registerAccount();\n      return this.$refs.credentialsTab.validate();\n    },\n    validateBackupTab: function() {\n      this.getConfigurated();\n      return this.$refs.backupTab.validate();\n    },\n    zoomUpdate(zoom) {\n      this.map.currentZoom = zoom;\n    },\n    centerUpdate(center) {\n      this.map.currentCenter = center;\n    },\n    markerClick(e) {\n      this.map.marker.position.lat = e.latlng.lat;\n      this.map.marker.position.lng = e.latlng.lng;\n      this.model.lat = this.map.marker.position.lat;\n      this.model.long = this.map.marker.position.lng;\n      this.showNext = true;\n    },\n    getConfigurated() {\n      let self = this;\n      this.axios\n        .get(\"http://oehu.local:8000/oehu/GetConfigurated\")\n        .then(function(response) {\n          if (response.data.configurated !== true) {\n            self.generateNewPhrase();\n          } else {\n            self.$cookies.set(\"devices\", self.model.deviceId);\n            self.startRunning();\n            setTimeout(function() {\n              document.location = 'https://oehu.org/dashboard';\n            }, 5000);\n          }\n        })\n        .catch(function(error) {\n          self.error = error + \" in GetConfigurated\";\n          console.log(error);\n        });\n    },\n    generateNewPhrase() {\n      let self = this;\n      this.axios\n        .get(\"http://oehu.local:8000/oehu/GenerateNewPhrase\")\n        .then(function(response) {\n          self.model.phrase = response.data.phrase;\n        })\n        .catch(function(error) {\n          self.error = error + \" in GenerateNewPhrase\";\n          console.log(error);\n        });\n    },\n    startRunning() {\n      this.axios\n        .get(\"http://oehu.local:8000/oehu/start\")\n        .then(function(response) {\n          console.log(\"start response: \", response);\n        })\n        .catch(function(error) {\n          self.error = error + \" in start\";\n          console.log(error);\n        });\n    },\n    registerNewDevice() {\n      let self = this;\n      this.axios\n        .get(\n          \"http://oehu.local:8000/oehu/registerDevice/\" +\n            \"OEHU\" +\n            \"/\" +\n            this.model.lat +\n            \"/\" +\n            this.model.long +\n            \"/\" +\n            this.model.accuracy +\n            \"/\" +\n            this.model.householdType +\n            \"/\" +\n            this.model.occupants\n        )\n        .then(function(response) {\n          self.model.deviceId = response.data.deviceID;\n        })\n        .catch(function(error) {\n          self.error = error + \" in registerDevice\";\n          console.log(error);\n        });\n    },\n    registerAccount() {\n      let self = this;\n      this.axios\n        .post(\"https://api.oehu.org/account/register\", {\n          email: this.model.email,\n          password: this.model.password,\n          deviceId: this.model.deviceId\n        })\n        .catch(function(error) {\n          self.error = error.response.data.message;\n          console.log(error);\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../assets/sass/mix.scss\";\n\n.container {\n  fieldset {\n    border: 0;\n  }\n  .logo {\n    position: fixed;\n    left: 25px;\n    top: 25px;\n  }\n\n  .errorMessage {\n    color: #ca0707 !important;\n    font-size: 25px !important;\n  }\n\n  .setup_finish_svg {\n    width: 100%;\n    margin-top: 40px;\n  }\n\n  .oehu-map {\n    width: 100%;\n    height: 422px;\n  }\n\n  .tab {\n    .permisson_text {\n      color: white;\n      font-size: 18px;\n      margin-top: 20px;\n      margin-bottom: 15px;\n      @include mobile() {\n        padding-top: 5px;\n      }\n      @include tablet() {\n        padding-top: 5px;\n      }\n    }\n    h1,\n    p,\n    h2 {\n      color: $black;\n      font-size: 36px;\n      font-weight: 400;\n      @include mobile() {\n        padding-top: 30px;\n      }\n      @include tablet() {\n        padding-top: 30px;\n      }\n    }\n    h1 {\n      @include mobile() {\n        display: none;\n      }\n      @include tablet() {\n        display: none;\n      }\n      position: relative;\n      bottom: 296px;\n      text-align: center;\n    }\n    h2 {\n      margin-top: -68px;\n      margin-bottom: 24px;\n    }\n    .loading {\n      position: relative;\n      left: 40%;\n      bottom: 200px;\n      @include mobile() {\n        left: 35%;\n        bottom: 100px;\n      }\n    }\n    .loading div {\n      box-sizing: border-box;\n      display: block;\n      position: absolute;\n      width: 150px;\n      height: 150px;\n      margin: 6px;\n      border: 20px solid #fff;\n      border-radius: 50%;\n      animation: loading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      border-color: #000 transparent transparent transparent;\n      @include mobile() {\n        border: 10px solid #fff;\n        border-color: #000 transparent transparent transparent;\n        width: 75px;\n        height: 75px;\n      }\n    }\n    .loading div:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    .loading div:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    .loading div:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n    @keyframes loading {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  }\n  // Form elements\n  .vue-form-generator {\n    .form-group {\n      #-this-phrase-is-generated-by-your-pi {\n        width: 175% !important;\n        @include mobile() {\n          width: 100% !important;\n        }\n      }\n      width: 35% !important;\n      display: block !important;\n      @include mobile() {\n        width: 100% !important;\n      }\n      @include tablet() {\n        width: 50% !important;\n      }\n      select {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        background: url(\"../assets/images/select_arrow.png\") no-repeat $blue 97%\n          50% !important;\n      }\n    }\n\n    .form-control {\n      padding: 6px 12px !important;\n      font-size: 18px !important;\n      line-height: 1.42857143 !important;\n      color: white !important;\n      background-color: $blue !important;\n      background-image: none !important;\n      border: 5px solid white !important;\n      border-radius: 4px !important;\n      @include mobile() {\n        font-size: 20px !important;\n        padding: 17px 12px !important;\n      }\n    }\n\n    .field-checkbox input {\n      width: 2.2em;\n      height: 2.2em;\n      position: relative;\n      right: 10px;\n    }\n  }\n  // Wizard elements\n  .vue-form-wizard {\n    padding-top: 50px;\n    .wizard-header {\n      h4,\n      p {\n        display: none;\n      }\n    }\n\n    .wizard-footer-left {\n      float: left;\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n      height: 80px;\n    }\n    .wizard-footer-right {\n      background-color: $yellow;\n      width: 200px;\n      height: 80px;\n      font-size: 24px;\n      font-weight: 600;\n    }\n\n    .wizard-nav-pills {\n      a,\n      li {\n        cursor: default !important;\n      }\n    }\n    .wizard-navigation .wizard-progress-with-circle {\n      position: relative !important;\n      top: 107px !important;\n      height: 30px !important;\n      @include mobile() {\n        display: none;\n      }\n      @include tablet() {\n        display: none;\n      }\n    }\n\n    .wizard-icon-circle {\n      background-color: #ffffff !important;\n      border: 20px solid #f3f3f3 !important;\n      padding: 0 !important;\n      height: 181px !important;\n      width: 182px !important;\n      border-radius: 50% !important;\n      @include mobile() {\n        display: none;\n      }\n      @include tablet() {\n        display: none;\n      }\n\n      i {\n        color: #f3f3f3 !important;\n        font-size: 64px !important;\n        font-style: normal;\n        font-weight: 600px !important;\n        @include mobile() {\n          font-size: 14px !important;\n        }\n      }\n\n      &.checked {\n        border-color: $black !important;\n        background-color: $yellow !important;\n\n        .wizard-icon-container {\n          background-color: unset !important;\n        }\n\n        i {\n          font-style: normal;\n          color: $black !important;\n        }\n      }\n\n      &.active {\n        border-color: $black !important;\n        background-color: $yellow !important;\n\n        .wizard-icon-container {\n          background-color: unset !important;\n        }\n\n        i {\n          font-style: normal;\n          color: $black !important;\n        }\n      }\n    }\n  }\n\n  .vue-form-generator .form-group.locationAccuracyFormGroup {\n    .radio-list label {\n      display: inline-block;\n      height: 30px;\n      font-family: WorkSans, sans-serif;\n      font-size: 18px;\n      margin-right: 14px;\n\n      &.is-checked {\n        border-bottom: solid 2px #ffde00;\n      }\n    }\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setup.vue?vue&type=template&id=00c79234&\"\nimport script from \"./Setup.vue?vue&type=script&lang=js&\"\nexport * from \"./Setup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setup.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Setup.vue\"\nexport default component.exports"],"sourceRoot":""}