(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a178296"],{"0b2d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"devices-connected"},[a("div",{staticClass:"container"},[a("div",{staticClass:"devices-connected-columns "},[a("div",{staticClass:"meters-wrapper"},[a("Meter",{staticClass:"meter",attrs:{value:t.metersConnectedCount,valuePrecision:"0",textAbove:"",description:"Meters active"}}),a("Meter",{staticClass:"meter",attrs:{value:t.averageKwHUsage,valuePrecision:"2",textAbove:"Past 24Hr",description:"Average KwH usage per household"}}),a("Meter",{staticClass:"meter",attrs:{value:t.averageKwHGenerated,valuePrecision:"2",textAbove:"Past 24Hr",description:"Average KwH generated per household"}}),a("Meter",{staticClass:"meter",attrs:{value:t.averageGasUsed,valuePrecision:"2",textAbove:"Past 24Hr",description:"Gas used per household"}})],1)])])])},r=[],o=(a("96cf"),a("3040")),i=a("bc3a"),s=a.n(i),c=a("495e"),u={name:"DevicesConnected",components:{Meter:c["a"]},data:function(){return{metersConnectedCount:0,averageKwHUsage:0,averageKwHGenerated:0,averageGasUsed:0}},methods:{getStatistics:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this,t.next=4,s.a.get("https://api.oehu.org/statistics");case 4:a=t.sent,this.handleStatisticData(a.data),setTimeout(function(){e.getStatistics()},3e4),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),handleStatisticData:function(t){this.metersConnectedCount=t.devicesConnected,this.averageKwHUsage=t.averageUseEnergy,this.averageKwHGenerated=t.averageGeneratedEnergy,this.averageGasUsed=t.averageUseGas}},mounted:function(){this.getStatistics()}},l=u,p=(a("f10a"),a("2877")),d=Object(p["a"])(l,n,r,!1,null,"8e7ac11e",null);d.options.__file="DevicesConnected.vue";e["a"]=d.exports},2876:function(t,e,a){"use strict";var n=a("ea5b"),r=a.n(n);r.a},"7e1c":function(t,e,a){},ac6a:function(t,e,a){for(var n=a("cadf"),r=a("0d58"),o=a("2aba"),i=a("7726"),s=a("32e9"),c=a("84f2"),u=a("2b4c"),l=u("iterator"),p=u("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=r(h),f=0;f<m.length;f++){var v,g=m[f],b=h[g],y=i[g],L=y&&y.prototype;if(L&&(L[l]||s(L,l,d),L[p]||s(L,p,g),c[g]=d,b))for(v in n)L[v]||o(L,v,n[v],!0)}},e8e4:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-map",{staticClass:"oehu-map",attrs:{zoom:t.zoom,bounds:t.bounds,center:t.center,options:{zoomControl:!0,touchZoom:!0,scrollWheelZoom:!1,doubleClickZoom:!0,boxZoom:!0}},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.markers,function(e){return a("l-marker",{key:e.id,attrs:{icon:t.LIcon,"lat-lng":e.position}},[a("l-tooltip",{attrs:{content:e.tooltip,options:t.tooltipOptions}})],1)})],2)},r=[],o=(a("ac6a"),a("96cf"),a("3040")),i=a("458e"),s=a("c1df"),c=a.n(s),u=a("e11e"),l=a.n(u);function p(t){return null!=t&&"object"===typeof t&&!0===t["@@functional/placeholder"]}function d(t){return function e(a){return 0===arguments.length||p(a)?e:t.apply(this,arguments)}}function h(t){return function e(a,n){switch(arguments.length){case 0:return e;case 1:return p(a)?e:d(function(e){return t(a,e)});default:return p(a)&&p(n)?e:p(a)?d(function(e){return t(e,n)}):p(n)?d(function(e){return t(a,e)}):t(a,n)}}}var m=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function f(t){return"[object String]"===Object.prototype.toString.call(t)}var v=d(function(t){return!!m(t)||!!t&&("object"===typeof t&&(!f(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),g=v;"undefined"!==typeof Symbol&&Symbol.iterator;function b(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var y=Object.prototype.toString,L=function(){return"[object Arguments]"===y.call(arguments)?function(t){return"[object Arguments]"===y.call(t)}:function(t){return b("callee",t)}},S=L,w=!{toString:null}.propertyIsEnumerable("toString"),O=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(){return arguments.propertyIsEnumerable("length")}(),k=function(t,e){var a=0;while(a<t.length){if(t[a]===e)return!0;a+=1}return!1};Object.keys;Number.isInteger;var M=function(t){return(t<10?"0":"")+t};Date.prototype.toISOString;function T(t){return t}function x(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");var e=Object(t),a=1,n=arguments.length;while(a<n){var r=arguments[a];if(null!=r)for(var o in r)b(o,r)&&(e[o]=r[o]);a+=1}return e}var j="function"===typeof Object.assign?Object.assign:x,A=h(function(t,e){var a={};return a[t]=e,a}),P=A;Array,String,Object;String.prototype.trim;var D=a("bc3a"),G=a.n(D),H=(c()().subtract(1,"month").valueOf(),c()().subtract(1,"week").valueOf()),U={name:"Maps",components:{LMap:i["LMap"],LTileLayer:i["LTileLayer"],LMarker:i["LMarker"],LTooltip:i["LTooltip"]},data:function(){return{zoom:8,center:{lat:52.0182305,lng:4.6910549},url:"https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[],LIcon:l.a.icon({iconUrl:"/marker-icon.png",iconRetinaUrl:"/marker-icon-2x.png",iconSize:[50,50],iconAnchor:[25,25],popupAnchor:[0,0]}),tooltipOptions:{permanent:!1}}},methods:{zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},retrieveOehuLocations:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.a.get("https://api.oehu.org/devices");case 3:e=t.sent,this.handleDevicesData(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),handleDevicesData:function(t){var e=this;t.forEach(function(t){t.metadata&&t.metadata.metadata&&t.metadata.metadata.householdType&&(t.metadata.metadata.lastUpdate<H||e.markers.push({id:t.deviceId,position:{lat:t.metadata.metadata.location.coordinates[0],lng:t.metadata.metadata.location.coordinates[1]},tooltip:"<b>"+t.metadata.metadata.householdType+"</b><br /><p><b>"+t.metadata.metadata.occupants+" occupants</b></p><hr /><p>"+t.metadata.metadata.electricityReceived.total.toFixed(2)+" kWh received in total</p><p>"+t.metadata.metadata.electricityDelivered.total.toFixed(2)+" kWh delivered in total</p><p>"+t.metadata.metadata.gasReceived.toFixed(2)+' gas received in total</p><hr /><small><a href="/explorer/'+t.deviceId+'">'+t.deviceId+"</a></small>"}))})}},mounted:function(){this.retrieveOehuLocations()}},E=U,I=(a("2876"),a("2877")),R=Object(I["a"])(E,n,r,!1,null,"e0b28ef0",null);R.options.__file="Maps.vue";e["a"]=R.exports},ea5b:function(t,e,a){},f10a:function(t,e,a){"use strict";var n=a("7e1c"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-1a178296.9168892e.js.map