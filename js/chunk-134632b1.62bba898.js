(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-134632b1"],{b8a6:function(t,e,a){"use strict";var o=a("dffd"),i=a.n(o);i.a},da7d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("form-wizard",{attrs:{shape:"tab",color:"#26292d","error-color":"#a94442"}},[a("h1",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("Welcome to the OEHU setup")]),a("tab-content",{attrs:{title:"Location"}},[a("div",{staticClass:"tab"},[a("h2",[t._v("Step 1: Enter your location")]),a("l-map",{staticClass:"oehu-map",attrs:{zoom:t.zoom,center:t.center},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.markers,function(e){return a("l-marker",{key:e.id,attrs:{icon:t.LIcon,"lat-lng":e.position}},[a("l-tooltip",{attrs:{content:e.tooltip}})],1)})],2),a("vue-form-generator",{ref:"selectLocation",attrs:{model:t.model,schema:t.selectLocation,options:t.formOptions}})],1)]),a("tab-content",{attrs:{title:"Building data","before-change":t.validateBuildingTab}},[a("template",{slot:"prev"}),a("div",{staticClass:"tab"},[a("h2",[t._v("Step 2: Enter your Building data")]),a("vue-form-generator",{ref:"selectBuilding",attrs:{model:t.model,schema:t.selectBuilding,options:t.formOptions}})],1)],2),a("tab-content",{attrs:{title:"Credentials","before-change":t.validateCredentialsTab}},[a("div",{staticClass:"tab"},[a("h2",[t._v("Step 3: Enter your credentials")]),a("vue-form-generator",{ref:"credentialsTab",attrs:{model:t.model,schema:t.credentialsTab,options:t.formOptions}})],1)]),a("tab-content",{attrs:{title:"Backup","before-change":t.validateBackupTab}},[a("div",{staticClass:"tab"},[a("h2",[t._v("Step 4: Save your credentials")]),a("p",[t._v("Please write down the data below!")]),a("vue-form-generator",{ref:"backupTab",attrs:{model:t.model,schema:t.backupTab,options:t.formOptions}})],1)]),a("tab-content",{attrs:{title:"Dashboard"}},[a("div",{staticClass:"tab"},[a("h2",[t._v("Step 5: Well done we're processing your request")]),a("p",[t._v("Please do not refresh the page. Once its done you will get redirected to your dashboard")]),a("p",[t._v(t._s(this.model))])])])],1)],1)},i=[],s=(a("cadf"),a("551c"),a("097d"),a("4309")),r=a.n(s),n=(a("e517"),a("458e")),l=a("e11e"),c=a.n(l),d={components:{LMap:n["LMap"],LTileLayer:n["LTileLayer"],LMarker:n["LMarker"],LTooltip:n["LTooltip"]},data:function(){return{deviceId:0,phrase:0,zoom:10,center:{lat:52.0182305,lng:4.6910549},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',markers:[],LIcon:c.a.icon({iconUrl:"/marker-icon.png",iconRetinaUrl:"/marker-icon-2x.png",iconSize:[50,50],iconAnchor:[25,25],popupAnchor:[0,0]}),test:"",model:{},backupTab:{fields:[{type:"input",inputType:"text",label:"Phrase:",required:!0,default:this.phrase,model:"phrase",validator:r.a.validators.string},{type:"input",inputType:"text",label:"Check email",model:"email",required:!0,validator:r.a.validators.string},{type:"input",inputType:"password",label:"Check password ",model:"password",required:!0,validator:r.a.validators.string}]},formOptions:{validationErrorClass:"has-error",validationSuccessClass:"has-success",validateAfterChanged:!0},selectBuilding:{fields:[{type:"select",label:"Select building type:",model:"building",required:!0,validator:r.a.validators.string,values:["House","Office","Storage","Factory"],selectOptions:{noneSelectedText:"Select type"}},{type:"select",label:"Select occupants:",model:"occupants",validator:r.a.validators.string,required:!0,values:["1","2","3","4","5","6","7","8","9"],selectOptions:{noneSelectedText:"Amount of occupants"}}]},selectLocation:{fields:[{type:"input",inputType:"number",label:"Location Accuracy",model:"location",min:100,required:!0,validator:r.a.validators.string,styleClasses:"col-xs-6"},{type:"input",inputType:"text",label:"Lat",model:"lat",min:100,required:!0,validator:r.a.validators.string,styleClasses:"col-xs-6"},{type:"input",inputType:"text",label:"Long",model:"long",min:100,required:!0,validator:r.a.validators.string,styleClasses:"col-xs-6"}]},credentialsTab:{fields:[{type:"input",inputType:"text",label:"email:",model:"email",required:!0,validator:r.a.validators.string},{type:"input",inputType:"password",label:"Password:",model:"password",required:!0,validator:r.a.validators.string}]}}},methods:{validateBuildingTab:function(){return this.registerNewDevice(),this.$refs.selectBuilding.validate()},validateCredentialsTab:function(){return this.registerAccount(),this.loadPhrase(),this.$refs.credentialsTab.validate()},validateBackupTab:function(){return this.$refs.backupTab.validate()},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},getConfigurated:function(){this.axios.get("https://localhost:8000/oehu/GetConfigurated").then(function(t){!0!==t.data.configurated&&this.generateNewPhrase()}).catch(function(t){console.log(t)})},generateNewPhrase:function(){this.axios.get("https://localhost:8000/oehu/GenerateNewPhrase").then(function(t){this.phrase=t.data.phrase}).catch(function(t){console.log(t)})},registerNewDevice:function(){this.axios.get("https://localhost:8000/oehu/registerDevice/OEHU/"+this.model.lat+"/"+this.model.long+"/"+this.model.location+"/"+this.model.building+"/"+this.model.occupants).then(function(t){this.deviceId=t.data.deviceID}).catch(function(t){console.log(t)})},registerAccount:function(){this.axios.post("https://api.oehu.org/account/register",{email:this.model.email,password:this.model.password,deviceId:this.deviceId}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},loadPhrase:function(){this.model=r.a.schema.createDefaultObject(this.backupTab)},mounted:function(){this.getConfigurated()}}},u=d,p=(a("b8a6"),a("2877")),h=Object(p["a"])(u,o,i,!1,null,null,null);h.options.__file="Setup.vue";e["default"]=h.exports},dffd:function(t,e,a){},e517:function(t,e,a){}}]);
//# sourceMappingURL=chunk-134632b1.62bba898.js.map