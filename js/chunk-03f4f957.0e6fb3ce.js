(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03f4f957"],{6285:function(t,e,a){t.exports=a.p+"img/oehu_setup_finish.09debccd.svg"},b8a6:function(t,e,a){"use strict";var o=a("dffd"),i=a.n(o);i.a},da7d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("img",{staticClass:"logo",attrs:{src:a("91d3")}}),o("form-wizard",{attrs:{shape:"tab",color:"#26292d","error-color":"#a94442","next-button-text":"Next step"}},[o("h1",{staticClass:"title",attrs:{slot:"title"},slot:"title"}),o("tab-content",[o("div",{staticClass:"tab"},[o("h1",[t._v("Welcome to the OEHU setup")]),o("h2",[t._v("Step 1: Enter your location")]),o("l-map",{staticClass:"oehu-map",attrs:{zoom:t.map.zoom,center:t.map.center,options:{zoomControl:!0,touchZoom:!0,scrollWheelZoom:!0,doubleClickZoom:!0,boxZoom:!0}},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate,click:t.markerClick}},[o("l-tile-layer",{attrs:{url:t.map.url,attribution:t.map.attribution}}),o("l-marker",{key:"mylocation",attrs:{icon:t.LIcon,"lat-lng":t.map.marker.position}}),o("LCircle",{key:"mylocation2",attrs:{radius:t.model.accuracy,icon:t.LIcon,"lat-lng":t.map.marker.position}})],1),o("p",{staticClass:"permisson_text"},[t._v("• Give permission or pin your location on the map")]),o("p",{staticClass:"permisson_text"},[t._v("• Select the accuracy for display and saving your data")]),o("vue-form-generator",{ref:"selectLocation",attrs:{model:t.model,schema:t.selectLocation,options:t.formOptions}})],1)]),o("tab-content",{attrs:{"before-change":t.validateBuildingTab}},[o("template",{slot:"prev"}),o("div",{staticClass:"tab"},[o("h1",[t._v("Thank you! Just a few more steps")]),o("h2",[t._v("Step 2: Enter your Building data")]),o("vue-form-generator",{ref:"selectBuilding",attrs:{model:t.model,schema:t.selectBuilding,options:t.formOptions}})],1)],2),o("tab-content",{attrs:{"before-change":t.validateCredentialsTab}},[o("div",{staticClass:"tab"},[o("h1",[t._v("Halfway there!")]),o("h2",[t._v("Step 3: Enter your credentials")]),o("vue-form-generator",{ref:"credentialsTab",attrs:{model:t.model,schema:t.credentialsTab,options:t.formOptions}})],1)]),o("tab-content",{attrs:{"before-change":t.validateBackupTab}},[o("div",{staticClass:"tab"},[o("h1",[t._v("OEHU! Almost there!")]),o("h2",[t._v("Step 4: Save your credentials")]),o("vue-form-generator",{ref:"backupTab",attrs:{model:t.model,schema:t.backupTab,options:t.formOptions}})],1)]),o("tab-content",[o("div",{staticClass:"tab"},[o("h2",[t._v("Step 5: Well done we're processing your request")]),o("p",[t._v("Please do not refresh the page. Once its done you will get redirected to your dashboard")]),o("img",{staticClass:"setup_finish_svg",attrs:{src:a("6285"),alt:""}})])])],1)],1)},i=[],s=(a("cadf"),a("551c"),a("097d"),a("4309")),r=a.n(s),n=(a("e517"),a("458e")),l=a("e11e"),c=a.n(l),d={components:{LMap:n["LMap"],LTileLayer:n["LTileLayer"],LMarker:n["LMarker"],LCircle:n["LCircle"]},data:function(){return{deviceId:0,phrase:0,map:{marker:{position:{lat:0,lng:0},radius:1e4},zoom:10,currentZoom:10,center:{lat:52.0182305,lng:4.6910549},currentCenter:{lat:52.0182305,lng:4.6910549},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors'},LIcon:c.a.icon({iconUrl:"/marker-icon.png",iconRetinaUrl:"/marker-icon-2x.png",iconSize:[25,25]}),model:{lat:"",long:"",accuracy:1e3,accept:!1},backupTab:{fields:[{type:"input",inputType:"text",label:"• This phrase is generated by your PI, this is your .....",required:!0,default:this.phrase,model:"phrase",validator:r.a.validators.string},{type:"input",inputType:"text",label:"E-mail",model:"email",required:!0,validator:r.a.validators.string},{type:"input",inputType:"password",label:"Password",model:"password",required:!0,validator:r.a.validators.string}]},formOptions:{validationErrorClass:"has-error",validationSuccessClass:"has-success",validateAfterChanged:!0},selectBuilding:{fields:[{type:"select",label:"• Select your building type:",model:"building",required:!0,validator:r.a.validators.string,values:["House","Office","Storage","Factory"],selectOptions:{hideNoneSelectedText:!0}},{type:"select",label:"• Select the number of occupants:",model:"occupants",validator:r.a.validators.string,required:!0,values:["1","2","3","4","5","6","7","8","9"],selectOptions:{hideNoneSelectedText:!0}}]},selectLocation:{fields:[{type:"input",inputType:"number",label:"Location Accuracy",model:"accuracy",min:100,required:!0,validator:r.a.validators.string,styleClasses:"col-xs-6"},{type:"input",inputType:"text",label:"Latitude",model:"lat",required:!0,validator:r.a.validators.string,styleClasses:"col-xs-6"},{type:"input",inputType:"text",label:"Longitude",model:"long",required:!0,validator:r.a.validators.string,styleClasses:"col-xs-6"},{type:"checkbox",label:"I want to be annonymous",model:"accept"}]},credentialsTab:{fields:[{type:"input",inputType:"text",label:"• Enter your e-mail",model:"email",required:!0,validator:r.a.validators.string},{type:"input",inputType:"password",label:"• Enter your password",model:"password",required:!0,validator:r.a.validators.string}]}}},watch:{"model.accept":{handler:function(t){1==t?(this.model.lat="52.31877224455515",this.model.long="2.973580237523761",this.map.marker.position.lat=this.model.lat,this.map.marker.position.lng=this.model.long,this.model.lat=this.map.marker.position.lat,this.model.long=this.map.marker.position.lng):(this.model.lat="",this.model.long="",this.map.marker.position.lat=this.model.lat,this.map.marker.position.lng=this.model.long,this.model.lat=this.map.marker.position.lat,this.model.long=this.map.marker.position.lng)},deep:!0}},methods:{validateBuildingTab:function(){return this.registerNewDevice(),this.$refs.selectBuilding.validate()},validateCredentialsTab:function(){return this.registerAccount(),this.loadPhrase(),this.$refs.credentialsTab.validate()},validateBackupTab:function(){return this.$refs.backupTab.validate()},zoomUpdate:function(t){this.map.currentZoom=t},centerUpdate:function(t){this.map.currentCenter=t},markerClick:function(t){this.map.marker.position.lat=t.latlng.lat,this.map.marker.position.lng=t.latlng.lng,this.model.lat=this.map.marker.position.lat,this.model.long=this.map.marker.position.lng},getConfigurated:function(){this.axios.get("https://oehu-setup-api.ngrok.io/oehu/GetConfigurated").then(function(t){!0!==t.data.configurated&&this.generateNewPhrase()}).catch(function(t){console.log(t)})},generateNewPhrase:function(){this.axios.get("https://oehu-setup-api.ngrok.io/oehu/GenerateNewPhrase").then(function(t){this.phrase=t.data.phrase}).catch(function(t){console.log(t)})},registerNewDevice:function(){this.axios.get("https://oehu-setup-api.ngrok.io/oehu/registerDevice/OEHU/"+this.model.lat+"/"+this.model.long+"/"+this.model.accuracy+"/"+this.model.building+"/"+this.model.occupants).then(function(t){this.deviceId=t.data.deviceID}).catch(function(t){console.log(t)})},registerAccount:function(){this.axios.post("https://api.oehu.org/account/register",{email:this.model.email,password:this.model.password,deviceId:this.deviceId}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},loadPhrase:function(){this.model=r.a.schema.createDefaultObject(this.backupTab)},mounted:function(){}}},p=d,u=(a("b8a6"),a("2877")),m=Object(u["a"])(p,o,i,!1,null,null,null);m.options.__file="Setup.vue";e["default"]=m.exports},dffd:function(t,e,a){},e517:function(t,e,a){}}]);
//# sourceMappingURL=chunk-03f4f957.0e6fb3ce.js.map